@using HorsesForCourses.Application
@using HorsesForCourses.Application.Paging
@using HorsesForCourses.Application.dtos
@using HorsesForCourses.Infrastructure
@using HorsesForCourses.MVC
@using HorsesForCourses.MVC.ViewModels;
@model GetByIdResponse

@{
    ViewData["Title"] = "Course Details";
}

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success" role="alert">
        @TempData["SuccessMessage"]
    </div>
}

@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger" role="alert">
        @TempData["ErrorMessage"]
    </div>
}

<h3>Coursedetails for @Model.Name</h3>

<div>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">ID:</dt>
        <dd class="col-sm-10">@Model.Id</dd>

        <dt class="col-sm-2">Status:</dt>
        <dd class="col-sm-10">@Model.Status</dd>

        <dt class="col-sm-2">From:</dt>
        <dd class="col-sm-10">@Model.StartDate</dd>

        <dt class="col-sm-2">Until:</dt>
        <dd class="col-sm-10">@Model.EndDate</dd>

        <dt class="col-sm-2">Day(s)</dt>
        <dd class="col-sm-10">help</dd>

        <dt class="col-sm-2">Timeslot:</dt>
        <dd class="col-sm-10">@Model.ScheduledTimeSlots</dd>

        <dt class="col-sm-2">Assigned coach(es):</dt>
        <dd class="col-sm-10">todo</dd>
    </dl>
</div>

<h4>Skills</h4>
@if (Model.Skills.Any())
{
    <ul>
        @foreach (var skill in Model.Skills)
        {
            <li>@skill</li>
        }
    </ul>
}
else
{
    <p>This course does not have skillrequirements yet.</p>
}

@if (Model.Status == "Draft")
{
    <form asp-action="Confirm" asp-route-id="@Model.Id" method="post" class="d-inline">
        @Html.AntiForgeryToken()
        <button type="submit" class="btn btn-success">Confirm Course</button>
    </form>
}

@* todo
<h4>Assigned coach(es)</h4>
 @if (Model.Courses.Any())    

*@

<div>
    <a asp-action="EditSkills" asp-route-id="@Model.Id" class="btn btn-warning btn-sm">Edit skills</a>
    <a asp-action="EditTimeSlots" asp-route-id="@Model.Id" class="btn btn-warning btn-sm">Edit timeslot</a>
    <a asp-action="Index" class="btn btn-secondary btn-sm">Back to summary</a>
</div>
